GO_FILE
  PsiComment(GO_LINE_COMMENT)('// Copyright 2009 The Go Authors. All rights reserved.')
  PsiComment(GO_LINE_COMMENT)('// Use of this source code is governed by a BSD-style')
  PsiComment(GO_LINE_COMMENT)('// license that can be found in the LICENSE file.')
  PsiComment(GO_LINE_COMMENT)('// HTTP server.  See RFC 2616.')
  PACKAGE_CLAUSE
    PsiElement(package)('package')
    PsiElement(identifier)('http')
  IMPORT_LIST
    <empty list>
  METHOD_DECLARATION
    PsiElement(func)('func')
    RECEIVER
      PsiElement(()('(')
      PsiElement(identifier)('sh')
      TYPE
        TYPE_REFERENCE_EXPRESSION
          PsiElement(identifier)('serverHandler')
      PsiElement())(')')
    PsiElement(identifier)('ServeHTTP')
    SIGNATURE
      PARAMETERS
        PsiElement(()('(')
        PARAMETER_DECLARATION
          PARAM_DEFINITION
            PsiElement(identifier)('rw')
          TYPE
            TYPE_REFERENCE_EXPRESSION
              PsiElement(identifier)('ResponseWriter')
        PsiElement(,)(',')
        PARAMETER_DECLARATION
          PARAM_DEFINITION
            PsiElement(identifier)('req')
          POINTER_TYPE
            PsiElement(*)('*')
            TYPE
              TYPE_REFERENCE_EXPRESSION
                PsiElement(identifier)('Request')
        PsiElement())(')')
    BLOCK
      PsiElement({)('{')
      FOR_STATEMENT
        PsiElement(for)('for')
        BLOCK
          PsiElement({)('{')
          SIMPLE_STATEMENT
            SHORT_VAR_DECLARATION
              VAR_DEFINITION
                PsiElement(identifier)('w')
              PsiElement(,)(',')
              VAR_DEFINITION
                PsiElement(identifier)('err')
              PsiElement(:=)(':=')
              CALL_EXPR
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('c')
                  PsiElement(.)('.')
                  PsiElement(identifier)('readRequest')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  PsiElement())(')')
          PsiElement(})('}')
      FOR_STATEMENT
        PsiElement(for)('for')
        CONDITIONAL_EXPR
          CALL_EXPR
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('atomic')
              PsiElement(.)('.')
              PsiElement(identifier)('LoadUint32')
            ARGUMENT_LIST
              PsiElement(()('(')
              UNARY_EXPR
                PsiElement(&)('&')
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('x')
              PsiElement())(')')
          PsiElement(!=)('!=')
          REFERENCE_EXPRESSION
            PsiElement(identifier)('expected')
        BLOCK
          PsiElement({)('{')
          PsiElement(})('}')
      FOR_STATEMENT
        PsiElement(for)('for')
        FOR_CLAUSE
          PsiElement(;)(';')
          PsiElement(;)(';')
          SEND_STATEMENT
            LEFT_HAND_EXPR_LIST
              REFERENCE_EXPRESSION
                PsiElement(identifier)('c')
            PsiElement(<-)('<-')
            UNARY_EXPR
              PsiElement(*)('*')
              INDEX_OR_SLICE_EXPR
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('a')
                PsiElement([)('[')
                SELECTOR_EXPR
                  COMPOSITE_LIT
                    TYPE_REFERENCE_EXPRESSION
                      PsiElement(identifier)('S')
                    LITERAL_VALUE
                      PsiElement({)('{')
                      PsiElement(})('}')
                  PsiElement(.)('.')
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('i')
                PsiElement(])(']')
        BLOCK
          PsiElement({)('{')
          IF_STATEMENT
            PsiElement(if)('if')
            SIMPLE_STATEMENT
              LEFT_HAND_EXPR_LIST
                CONDITIONAL_EXPR
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('t')
                  PsiElement(!=)('!=')
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('nil')
            BLOCK
              PsiElement({)('{')
              BREAK_STATEMENT
                PsiElement(break)('break')
              PsiElement(})('}')
          PsiElement(})('}')
      IF_STATEMENT
        PsiElement(if)('if')
        SIMPLE_STATEMENT
          LEFT_HAND_EXPR_LIST
            AND_EXPR
              CONDITIONAL_EXPR
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('req')
                  PsiElement(.)('.')
                  PsiElement(identifier)('RequestURI')
                PsiElement(==)('==')
                STRING_LITERAL
                  PsiElement(string)('"*"')
              PsiElement(&&)('&&')
              CONDITIONAL_EXPR
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('req')
                  PsiElement(.)('.')
                  PsiElement(identifier)('Method')
                PsiElement(==)('==')
                STRING_LITERAL
                  PsiElement(string)('"OPTIONS"')
        BLOCK
          PsiElement({)('{')
          ASSIGNMENT_STATEMENT
            LEFT_HAND_EXPR_LIST
              REFERENCE_EXPRESSION
                PsiElement(identifier)('handler')
            ASSIGN_OP
              PsiElement(=)('=')
            COMPOSITE_LIT
              TYPE_REFERENCE_EXPRESSION
                PsiElement(identifier)('globalOptionsHandler')
              LITERAL_VALUE
                PsiElement({)('{')
                PsiElement(})('}')
          PsiElement(})('}')
      FOR_STATEMENT
        PsiElement(for)('for')
        BLOCK
          PsiElement({)('{')
          ASSIGNMENT_STATEMENT
            LEFT_HAND_EXPR_LIST
              REFERENCE_EXPRESSION
                PsiElement(identifier)('handler')
            ASSIGN_OP
              PsiElement(=)('=')
            COMPOSITE_LIT
              TYPE_REFERENCE_EXPRESSION
                PsiElement(identifier)('globalOptionsHandler')
              LITERAL_VALUE
                PsiElement({)('{')
                PsiElement(})('}')
          PsiElement(})('}')
      IF_STATEMENT
        PsiElement(if)('if')
        SIMPLE_STATEMENT
          SHORT_VAR_DECLARATION
            VAR_DEFINITION
              PsiElement(identifier)('err')
            PsiElement(:=)(':=')
            CALL_EXPR
              REFERENCE_EXPRESSION
                PsiElement(identifier)('bar')
              ARGUMENT_LIST
                PsiElement(()('(')
                FUNCTION_LIT
                  PsiElement(func)('func')
                  SIGNATURE
                    PARAMETERS
                      PsiElement(()('(')
                      PsiElement())(')')
                    RESULT
                      TYPE
                        TYPE_REFERENCE_EXPRESSION
                          PsiElement(identifier)('int')
                  BLOCK
                    PsiElement({)('{')
                    RETURN_STATEMENT
                      PsiElement(return)('return')
                      LITERAL
                        PsiElement(int)('42')
                    PsiElement(})('}')
                PsiElement())(')')
        PsiElement(;)(';')
        CONDITIONAL_EXPR
          REFERENCE_EXPRESSION
            PsiElement(identifier)('err')
          PsiElement(!=)('!=')
          REFERENCE_EXPRESSION
            PsiElement(identifier)('nil')
        BLOCK
          PsiElement({)('{')
          SIMPLE_STATEMENT
            LEFT_HAND_EXPR_LIST
              CALL_EXPR
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('panic')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('err')
                  PsiElement())(')')
          PsiElement(})('}')
      STATEMENT
        TYPE_DECLARATION
          PsiElement(type)('type')
          TYPE_SPEC
            PsiElement(identifier)('M2')
            STRUCT_TYPE
              PsiElement(struct)('struct')
              PsiElement({)('{')
              FIELD_DECLARATION
                FIELD_DEFINITION
                  PsiElement(identifier)('name')
                TYPE
                  TYPE_REFERENCE_EXPRESSION
                    PsiElement(identifier)('string')
              PsiElement(;)(';')
              FIELD_DECLARATION
                FIELD_DEFINITION
                  PsiElement(identifier)('want')
                TYPE
                  TYPE_REFERENCE_EXPRESSION
                    PsiElement(identifier)('int')
              PsiElement(})('}')
      FOR_STATEMENT
        PsiElement(for)('for')
        RANGE_CLAUSE
          VAR_DEFINITION
            PsiElement(identifier)('n')
          PsiElement(,)(',')
          VAR_DEFINITION
            PsiElement(identifier)('tt')
          PsiElement(:=)(':=')
          PsiElement(range)('range')
          COMPOSITE_LIT
            ARRAY_OR_SLICE_TYPE
              PsiElement([)('[')
              PsiElement(])(']')
              TYPE
                TYPE_REFERENCE_EXPRESSION
                  PsiElement(identifier)('M2')
            LITERAL_VALUE
              PsiElement({)('{')
              ELEMENT
                VALUE
                  LITERAL_VALUE
                    PsiElement({)('{')
                    ELEMENT
                      VALUE
                        STRING_LITERAL
                          PsiElement(string)('"Alice"')
                    PsiElement(,)(',')
                    ELEMENT
                      VALUE
                        LITERAL
                          PsiElement(int)('1')
                    PsiElement(})('}')
              PsiElement(,)(',')
              ELEMENT
                VALUE
                  LITERAL_VALUE
                    PsiElement({)('{')
                    ELEMENT
                      VALUE
                        STRING_LITERAL
                          PsiElement(string)('"Bob"')
                    PsiElement(,)(',')
                    ELEMENT
                      VALUE
                        LITERAL
                          PsiElement(int)('2')
                    PsiElement(})('}')
              PsiElement(,)(',')
              ELEMENT
                VALUE
                  LITERAL_VALUE
                    PsiElement({)('{')
                    ELEMENT
                      VALUE
                        STRING_LITERAL
                          PsiElement(string)('"Chris"')
                    PsiElement(,)(',')
                    ELEMENT
                      VALUE
                        LITERAL
                          PsiElement(int)('3')
                    PsiElement(})('}')
              PsiElement(,)(',')
              PsiElement(})('}')
        BLOCK
          PsiElement({)('{')
          SIMPLE_STATEMENT
            LEFT_HAND_EXPR_LIST
              CALL_EXPR
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('fmt')
                  PsiElement(.)('.')
                  PsiElement(identifier)('Print')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('n')
                  PsiElement(,)(',')
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('tt')
                  PsiElement())(')')
          PsiElement(})('}')
      PsiElement(})('}')
  FUNCTION_DECLARATION
    PsiElement(func)('func')
    PsiElement(identifier)('ValidName')
    SIGNATURE
      PARAMETERS
        PsiElement(()('(')
        PARAMETER_DECLARATION
          PARAM_DEFINITION
            PsiElement(identifier)('name')
          TYPE
            TYPE_REFERENCE_EXPRESSION
              PsiElement(identifier)('string')
        PsiElement())(')')
      RESULT
        PsiElement(()('(')
        TYPE_LIST
          TYPE
            TYPE_REFERENCE_EXPRESSION
              PsiElement(identifier)('string')
          PsiElement(,)(',')
          TYPE
            TYPE_REFERENCE_EXPRESSION
              PsiElement(identifier)('error')
        PsiElement())(')')
    BLOCK
      PsiElement({)('{')
      IF_STATEMENT
        PsiElement(if)('if')
        SIMPLE_STATEMENT
          SHORT_VAR_DECLARATION
            VAR_DEFINITION
              PsiElement(identifier)('kind')
            PsiElement(,)(',')
            VAR_DEFINITION
              PsiElement(identifier)('ok')
            PsiElement(:=)(':=')
            INDEX_OR_SLICE_EXPR
              COMPOSITE_LIT
                MAP_TYPE
                  PsiElement(map)('map')
                  PsiElement([)('[')
                  TYPE
                    TYPE_REFERENCE_EXPRESSION
                      PsiElement(identifier)('string')
                  PsiElement(])(']')
                  TYPE
                    TYPE_REFERENCE_EXPRESSION
                      PsiElement(identifier)('string')
                LITERAL_VALUE
                  PsiElement({)('{')
                  ELEMENT
                    KEY
                      STRING_LITERAL
                        PsiElement(string)('"basic"')
                    PsiElement(:)(':')
                    VALUE
                      STRING_LITERAL
                        PsiElement(string)('"Basic"')
                  PsiElement(,)(',')
                  ELEMENT
                    KEY
                      STRING_LITERAL
                        PsiElement(string)('"active"')
                    PsiElement(:)(':')
                    VALUE
                      STRING_LITERAL
                        PsiElement(string)('"Active"')
                  PsiElement(,)(',')
                  PsiElement(})('}')
              PsiElement([)('[')
              CALL_EXPR
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('strings')
                  PsiElement(.)('.')
                  PsiElement(identifier)('ToLower')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('name')
                  PsiElement())(')')
              PsiElement(])(']')
        PsiElement(;)(';')
        REFERENCE_EXPRESSION
          PsiElement(identifier)('ok')
        BLOCK
          PsiElement({)('{')
          RETURN_STATEMENT
            PsiElement(return)('return')
            REFERENCE_EXPRESSION
              PsiElement(identifier)('kind')
            PsiElement(,)(',')
            REFERENCE_EXPRESSION
              PsiElement(identifier)('nil')
          PsiElement(})('}')
        ELSE_STATEMENT
          PsiElement(else)('else')
          BLOCK
            PsiElement({)('{')
            RETURN_STATEMENT
              PsiElement(return)('return')
              STRING_LITERAL
                PsiElement(string)('""')
              PsiElement(,)(',')
              CALL_EXPR
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('fmt')
                  PsiElement(.)('.')
                  PsiElement(identifier)('Errorf')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  STRING_LITERAL
                    PsiElement(string)('"Invalid name: %s"')
                  PsiElement(,)(',')
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('name')
                  PsiElement())(')')
            PsiElement(})('}')
      PsiElement(})('}')